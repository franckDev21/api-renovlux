import{j as e,H as l,a as m,L as y}from"./app-CXlkSNpp.js";import{A as c}from"./app-layout-BAa8lCS0.js";import{d as x}from"./index-4Ns3tNZl.js";import{a as b,B as d}from"./createLucideIcon-TuM7M0fl.js";import{C as r,a as t,b as i,c as a,d as w}from"./card-DWQktm7_.js";import{S as k}from"./separator-KZVy_ICX.js";import{u as C,c as D}from"./useProjects-BPdE8pow.js";import{S as h}from"./skeleton-DkmOLbKu.js";import{A as S,S as _}from"./square-pen-BAUs41Dk.js";/* empty css            */import"./index-Dt3f-TAq.js";import"./index-Dd6kHcB0.js";import"./useMutation-Snm-uatt.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],T=b("Trash2",L);function G({id:j}){const{data:s,isLoading:u,error:p}=C(j),f=D(),o=[{title:"Tableau de bord",href:x().url},{title:"Projets",href:"/projects/home"},{title:s?.title||"Détails du projet"}];if(u)return e.jsxs(c,{breadcrumbs:o,children:[e.jsx(l,{title:"Détails du projet"}),e.jsxs("div",{className:"flex flex-col space-y-6 px-6",children:[e.jsx(h,{className:"h-8 w-64"}),e.jsx(h,{className:"h-96 w-full"})]})]});if(p||!s)return e.jsxs(c,{breadcrumbs:o,children:[e.jsx(l,{title:"Erreur"}),e.jsx("div",{className:"flex flex-col space-y-6 px-6",children:e.jsx("div",{className:"text-center text-destructive",children:"Erreur lors du chargement du projet. Veuillez réessayer."})})]});const g=[{title:"Tableau de bord",href:x().url},{title:"Projets",href:"/projects/home"},{title:s.title}],v=()=>{confirm("Confirmer la suppression de ce projet ?")&&f.mutate(s.id.toString(),{onSuccess:()=>m.visit("/projects/home",{replace:!0})})};return e.jsxs(c,{breadcrumbs:g,children:[e.jsx(l,{title:`${s.title} - Détails`}),e.jsxs("div",{className:"flex flex-col space-y-6 px-6",children:[e.jsxs("div",{className:"flex flex-col space-y-4 sm:flex-row sm:items-center sm:justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx(d,{variant:"ghost",size:"icon",onClick:()=>m.visit("/projects/home"),children:e.jsx(S,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:s.title}),e.jsx("p",{className:"text-muted-foreground",children:"Détails du projet"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(d,{variant:"destructive",onClick:v,children:[e.jsx(T,{className:"mr-2 h-4 w-4"}),"Supprimer"]}),e.jsx(d,{asChild:!0,children:e.jsxs(y,{href:`/projects/${s.id}/edit`,prefetch:!0,children:[e.jsx(_,{className:"mr-2 h-4 w-4"}),"Modifier"]})})]})]}),e.jsxs("div",{className:"grid gap-6 md:grid-cols-2",children:[e.jsxs(r,{children:[e.jsx(t,{children:e.jsx(i,{children:"Image principale"})}),e.jsx(a,{children:s.image?e.jsx("img",{src:s.image,alt:s.title,className:"w-full h-64 object-cover rounded-md"}):e.jsx("div",{className:"w-full h-64 flex items-center justify-center bg-muted rounded-md text-muted-foreground",children:"Aucune image"})})]}),e.jsxs(r,{children:[e.jsx(t,{children:e.jsx(i,{children:"Informations générales"})}),e.jsxs(a,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Titre"}),e.jsx("p",{className:"text-lg",children:s.title})]}),e.jsx(k,{}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium text-muted-foreground",children:"Date de création"}),e.jsx("p",{className:"text-sm",children:new Date(s.created_at).toLocaleDateString("fr-FR",{year:"numeric",month:"long",day:"numeric"})})]})]})]})]}),s.description&&e.jsxs(r,{children:[e.jsx(t,{children:e.jsx(i,{children:"Description"})}),e.jsx(a,{children:e.jsx("p",{className:"whitespace-pre-wrap",children:s.description})})]}),s.secondary_images&&s.secondary_images.length>0&&e.jsxs(r,{children:[e.jsxs(t,{children:[e.jsx(i,{children:"Images secondaires"}),e.jsxs(w,{children:[s.secondary_images.length," image(s) supplémentaire(s)"]})]}),e.jsx(a,{children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-4",children:s.secondary_images.map((N,n)=>e.jsx("div",{className:"relative aspect-square rounded-md overflow-hidden border",children:e.jsx("img",{src:N,alt:`${s.title} - Image ${n+1}`,className:"w-full h-full object-cover"})},n))})})]})]})]})}export{G as default};
