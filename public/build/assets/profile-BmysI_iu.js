import{r as F,j as r,F as v,x as A,H as C,L as S}from"./app-CXlkSNpp.js";import{q as n,a as _}from"./index-4Ns3tNZl.js";import{H as N,S as w}from"./layout-WL0vMgYX.js";import{I as h}from"./input-error-BZoebipe.js";import{B as u}from"./createLucideIcon-TuM7M0fl.js";import{D as k,f as H,a as z,c as L,d as P,e as T,g as I}from"./dialog-pW_HPSkb.js";import{I as p}from"./input-DNPMUi4O.js";import{L as g}from"./label-BYNFDiwO.js";import{A as V,r as O}from"./app-layout-BAa8lCS0.js";import{z as U}from"./transition-Do6SFg0I.js";/* empty css            */import"./separator-KZVy_ICX.js";import"./index-Dd6kHcB0.js";import"./index-GCxOYPMd.js";import"./index-DGd_EL3L.js";import"./index-BnLzG_-e.js";import"./index-Dt3f-TAq.js";const i=e=>({url:i.url(e),method:"get"});i.definition={methods:["get","head"],url:"/settings/profile"};i.url=e=>i.definition.url+n(e);i.get=e=>({url:i.url(e),method:"get"});i.head=e=>({url:i.url(e),method:"head"});const f=e=>({action:i.url(e),method:"get"});f.get=e=>({action:i.url(e),method:"get"});f.head=e=>({action:i.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});i.form=f;const l=e=>({url:l.url(e),method:"patch"});l.definition={methods:["patch"],url:"/settings/profile"};l.url=e=>l.definition.url+n(e);l.patch=e=>({url:l.url(e),method:"patch"});const b=e=>({action:l.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});b.patch=e=>({action:l.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"PATCH",...e?.query??e?.mergeQuery??{}}}),method:"post"});l.form=b;const d=e=>({url:d.url(e),method:"delete"});d.definition={methods:["delete"],url:"/settings/profile"};d.url=e=>d.definition.url+n(e);d.delete=e=>({url:d.url(e),method:"delete"});const Q=e=>({action:d.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});Q.delete=e=>({action:d.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"DELETE",...e?.query??e?.mergeQuery??{}}}),method:"post"});d.form=Q;const q={update:l,destroy:d},s=e=>({url:s.url(e),method:"get"});s.definition={methods:["get","head"],url:"/verify-email"};s.url=e=>s.definition.url+n(e);s.get=e=>({url:s.url(e),method:"get"});s.head=e=>({url:s.url(e),method:"head"});const y=e=>({action:s.url(e),method:"get"});y.get=e=>({action:s.url(e),method:"get"});y.head=e=>({action:s.url({[e?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...e?.query??e?.mergeQuery??{}}}),method:"get"});s.form=y;const o=(e,t)=>({url:o.url(e,t),method:"get"});o.definition={methods:["get","head"],url:"/verify-email/{id}/{hash}"};o.url=(e,t)=>{Array.isArray(e)&&(e={id:e[0],hash:e[1]}),e=_(e);const m={id:e.id,hash:e.hash};return o.definition.url.replace("{id}",m.id.toString()).replace("{hash}",m.hash.toString()).replace(/\/+$/,"")+n(t)};o.get=(e,t)=>({url:o.url(e,t),method:"get"});o.head=(e,t)=>({url:o.url(e,t),method:"head"});const x=(e,t)=>({action:o.url(e,t),method:"get"});x.get=(e,t)=>({action:o.url(e,t),method:"get"});x.head=(e,t)=>({action:o.url(e,{[t?.mergeQuery?"mergeQuery":"query"]:{_method:"HEAD",...t?.query??t?.mergeQuery??{}}}),method:"get"});o.form=x;const a=e=>({url:a.url(e),method:"post"});a.definition={methods:["post"],url:"/email/verification-notification"};a.url=e=>a.definition.url+n(e);a.post=e=>({url:a.url(e),method:"post"});const D=e=>({action:a.url(e),method:"post"});D.post=e=>({action:a.url(e),method:"post"});a.form=D;Object.assign(s,s),Object.assign(o,o),Object.assign(a,a);function M(){const e=F.useRef(null);return r.jsxs("div",{className:"space-y-6",children:[r.jsx(N,{title:"Supprimer le compte",description:"Supprimez votre compte et toutes ses ressources"}),r.jsxs("div",{className:"space-y-4 rounded-lg border border-red-100 bg-red-50 p-4 dark:border-red-200/10 dark:bg-red-700/10",children:[r.jsxs("div",{className:"relative space-y-0.5 text-red-600 dark:text-red-100",children:[r.jsx("p",{className:"font-medium",children:"Avertissement"}),r.jsx("p",{className:"text-sm",children:"Veuillez procéder avec prudence, cette action est irréversible."})]}),r.jsxs(k,{children:[r.jsx(H,{asChild:!0,children:r.jsx(u,{variant:"destructive","data-test":"delete-user-button",children:"Supprimer le compte"})}),r.jsxs(z,{children:[r.jsx(L,{children:"Êtes-vous sûr de vouloir supprimer votre compte ?"}),r.jsx(P,{children:"Une fois votre compte supprimé, toutes ses ressources et données seront également supprimées de manière permanente. Veuillez entrer votre mot de passe pour confirmer que vous souhaitez supprimer définitivement votre compte."}),r.jsx(v,{...q.destroy.form(),options:{preserveScroll:!0},onError:()=>e.current?.focus(),resetOnSuccess:!0,className:"space-y-6",children:({resetAndClearErrors:t,processing:m,errors:c})=>r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(g,{htmlFor:"password",className:"sr-only",children:"Mot de passe"}),r.jsx(p,{id:"password",type:"password",name:"password",ref:e,placeholder:"Mot de passe",autoComplete:"current-password"}),r.jsx(h,{message:c.password})]}),r.jsxs(T,{className:"gap-2",children:[r.jsx(I,{asChild:!0,children:r.jsx(u,{variant:"secondary",onClick:()=>t(),children:"Annuler"})}),r.jsx(u,{variant:"destructive",disabled:m,asChild:!0,children:r.jsx("button",{type:"submit","data-test":"confirm-delete-user-button",children:"Supprimer le compte"})})]})]})})]})]})]})]})}const B=[{title:"Paramètres du profil",href:O().url}];function de({mustVerifyEmail:e,status:t}){const{auth:m}=A().props;return r.jsxs(V,{breadcrumbs:B,children:[r.jsx(C,{title:"Paramètres du profil"}),r.jsxs(w,{children:[r.jsxs("div",{className:"space-y-6",children:[r.jsx(N,{title:"Informations du profil",description:"Mettez à jour votre nom et votre adresse e-mail"}),r.jsx(v,{...q.update.form(),options:{preserveScroll:!0},className:"space-y-6",children:({processing:c,recentlySuccessful:E,errors:j})=>r.jsxs(r.Fragment,{children:[r.jsxs("div",{className:"grid gap-2",children:[r.jsx(g,{htmlFor:"name",children:"Nom"}),r.jsx(p,{id:"name",className:"mt-1 block w-full",defaultValue:m.user.name,name:"name",required:!0,autoComplete:"name",placeholder:"Nom complet"}),r.jsx(h,{className:"mt-2",message:j.name})]}),r.jsxs("div",{className:"grid gap-2",children:[r.jsx(g,{htmlFor:"email",children:"Adresse e-mail"}),r.jsx(p,{id:"email",type:"email",className:"mt-1 block w-full",defaultValue:m.user.email,name:"email",required:!0,autoComplete:"username",placeholder:"Adresse e-mail"}),r.jsx(h,{className:"mt-2",message:j.email})]}),e&&m.user.email_verified_at===null&&r.jsxs("div",{children:[r.jsxs("p",{className:"-mt-4 text-sm text-muted-foreground",children:["Votre adresse e-mail n'est pas vérifiée."," ",r.jsx(S,{href:a(),as:"button",className:"text-foreground underline decoration-neutral-300 underline-offset-4 transition-colors duration-300 ease-out hover:decoration-current! dark:decoration-neutral-500",children:"Cliquez ici pour renvoyer l'e-mail de vérification."})]}),t==="verification-link-sent"&&r.jsx("div",{className:"mt-2 text-sm font-medium text-green-600",children:"Un nouveau lien de vérification a été envoyé à votre adresse e-mail."})]}),r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsx(u,{disabled:c,"data-test":"update-profile-button",children:"Enregistrer"}),r.jsx(U,{show:E,enter:"transition ease-in-out",enterFrom:"opacity-0",leave:"transition ease-in-out",leaveTo:"opacity-0",children:r.jsx("p",{className:"text-sm text-neutral-600",children:"Enregistré"})})]})]})})]}),r.jsx(M,{})]})]})}export{de as default};
